language: node_js
node_js:
- '10'
before_install:
- curl -L -f -o "$HOME/git-duet-binaries.tar.gz" https://github.com/git-duet/git-duet/releases/download/0.6.0/linux_amd64.tar.gz
- mkdir "$HOME/git-duet"
- tar xzsf "$HOME/git-duet-binaries.tar.gz" -C "$HOME/git-duet"
- rm -rf "$HOME/git-duet-binaries"
- PATH="$HOME/git-duet:$PATH"
script:
- npm run test:ci
- npm run lint
- npm run acceptance-test
- npm run sonar-scanner -- -Dsonar.login="$SONAR_TOKEN"
SONAR_TOKEN:
  secure: T1DXdziQCZDK4rV1OuNCJIDoxDg0o4wJ6tLxMDgWpR5SWk8irZxqC+PqMewZnVyRlIfZs1ltk3WBJ8OjtvdM+E8WhYRAXCFtGRZrstMjTT9nhY7CCyzbIrw1mpkOzMUc6cHdJu4LZKm3bkkVM3d8Y9JE2hU7h787/HnTp8dHQyzwBYaBLqXcMUOn9X9EEM1STLYpyx4s7ZsvL4Hkxm7AZPy4SfSnZeuTYCnLEIJ/xc5Ev3WTgk27KwnZ3jzs+5o/MdxIfd+PSqZDB46VsQ2OF6+oX3K+7+MBnywxZOIzhDKJmllSgGFhmPzuGEtExqw8OjACxSGXVGhnFSc2STbJTreGJCL6G0cGX5OHQA7q5iuX0svd993kumzJ75H/LpYkc2oQUEgPH6P1Kx89u8kFTk2VBLQE980Knr3x3HXaExC4us6U0kj7HQPsOOudaB7SoM7GHFsgdwimOWPG/RcReKNN6mVUiTNuckuAFgFiP2IBSVZZxnBeAHKTqLfSaQjKsYrw5dLseqxKzKufjTHPqMGk/aA9Synf9QUlJkB8H70Vl1ilFdPBYgegt7GVrddlv7VpUgt0GFXOwDAZTiGpvkPKjFW87an9b++Xb4NyUHtNphpnZANS6/V61HZ6KPmbNs/6qMnjR1j1PudKMEVEGR5nvL9HlXARUKUqRpaMYx8=
