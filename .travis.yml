language: node_js
node_js:
- '10'
before_install:
- curl -L -f -o "$HOME/git-duet-binaries.tar.gz" https://github.com/git-duet/git-duet/releases/download/0.6.0/linux_amd64.tar.gz
- mkdir "$HOME/git-duet"
- tar xzsf "$HOME/git-duet-binaries.tar.gz" -C "$HOME/git-duet"
- rm -rf "$HOME/git-duet-binaries"
- PATH="$HOME/git-duet:$PATH"
script:
- npm run test:ci
- npm run lint
- npm run acceptance-test
- npm run sonar-scanner -- -Dsonar.login="$SONAR_TOKEN"
env:
  global:
    secure: fI20w9+L3OOYL/xT0GD1TT40b1RPy+G/IAaRllkbnmi8rCwEKo2G3obSXC5CniwBvEo9Ui71phKPF9TBafeJWjMDlJzEnevv7pD2T159VdzDi2NQsOLrwXGiFcwKKJh7Y/L3Xom2a0lwFs+5TJdJYDhXPjsH3JXZHDCx0hvfMmzdyuyCQ1lJEqvPmQkUUPbdrT8RIaKs6m61samPIgDkv5kkLkuRZx19W2qn538wAKfyK4MREW437+L29kk/cQ5Y/ClfGiQBm9jGno1F3gwLwxUUB1jnF2BVIWuQbEcjegsU7Bwya6dvHILYJmkAsQnCx40Zh3b/0yQnYwKkjowHKk+CXs3J8tzllNCwFN8osA/oquHgUpOO+BjESCgLv4eY/HZWl5GA9C8U9gAPDyGuHfX6pV57K7hy4HFbRaZ7mKEFnWhc8IAyNWtXQIloHxhE6MmM3yZ1ELu32tNAf2t3o1Y/aIJVM3ho0xICOp1Jbe9HRx5tTFdygrodNiy95s6CO78sEgSnSB/D3n6CcYTVIj0yKtJlIr0/j9i/4tuUeMEyzOT/hWHYHcOPrQzywoAGl5amt/vNDkOWy/vgN3XDDb4lv+uINwPQOWDthnxsWW0mK9trxK77nQ5h6lMGiLxSgPmcoIsam89Avst+WVgo2PVgdwkz44+lWxMCbsOFNjI=
