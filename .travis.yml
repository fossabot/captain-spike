language: node_js
node_js:
- '10'
before_install:
- curl -L -f -o "$HOME/git-duet-binaries.tar.gz" https://github.com/git-duet/git-duet/releases/download/0.6.0/linux_amd64.tar.gz
- mkdir "$HOME/git-duet"
- tar xzsf "$HOME/git-duet-binaries.tar.gz" -C "$HOME/git-duet"
- rm -rf "$HOME/git-duet-binaries"
- PATH="$HOME/git-duet:$PATH"
script:
- npm run test:ci
- npm run lint
- npm run acceptance-test
- npm run sonar-scanner -- -Dsonar.login="$SONAR_TOKEN"
env:
  global:
    secure: WiCqLeui/PtsOPHZ65eF3qiKj6eG0+vKXfI7/YoUw3sEnL0KHhreNFY/1zIjyiE/9Duc4dk7wsMKyO6cyaF+n3DKfiWWWLOYXkYFcSTUGwPoJId97OQ4ZuIxek7uhIQKjb9VNI9ygdbiKybHtvESG64Fvivt3w5+6cDEcWmH2p9c1X7Pk+WYK8G4FX9zsuFHNPxmIuF5GiLMPbrbIlTbLRSdVAaTq8fbty6+zXvBf3KAJI3rzyGriKQeUVu/tJvn2z6jaPO5eKEo0L171vR3s+3K/fodJEdpC3qoeTyd8rMYAkDst1HDLM+2lyQVevNkyxAuPkrbYAHZNkQhkCdQCcjxvC38Mif2RT9SH1bSComO70Hbg29cAZTRqyN6y/hnWwQTbgSPPXqe2s4wIkOGGTg+2PK0rSaqZlDoieSKJ3j59BwZ8uSw/GTIeQwrCwFIyey/dfq2X9DYrFwewuI5jP2pcWX8DU9ghApEAx7VXZON3+coypIKFP+fISEE8uDBIt78ExoWZuDSjEp0RNZmJoEiyvTeKcnR4IPOpryWVZvTSf28iKzS7bhogQa5/x0j5ECfq95JERXJtcnhz3GnVNc1VZ6XcHCzr+zsahjBFTurmQJbhFoiOOiuN3T04bhLpaYd6aM3d+XzqZZEPsD1Gpp+XcTfDRX3/pBhQ9xo9eI=
